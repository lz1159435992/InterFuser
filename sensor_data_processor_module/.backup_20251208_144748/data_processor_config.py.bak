"""
æ•°æ®å¤„ç†å™¨é…ç½®æ–‡ä»¶ - å›¾åƒå¤„ç†æ¨¡å—

æ”¯æŒå¤šç§å›¾åƒå¤„ç†æ–¹æ³•:
  â€¢ SwinIR - åŸºäº Swin Transformer çš„å›¾åƒä¿®å¤ï¼ˆå»å™ªã€è¶…åˆ†è¾¨ç‡ã€JPEG ä¿®å¤ï¼‰
  â€¢ SRGAN - åŸºäº GAN çš„ 4x è¶…åˆ†è¾¨ç‡ / å›¾åƒå¢å¼º

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ å¿«é€Ÿæ§åˆ¶æŒ‡å—ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ–¹æ³• 1: å®Œå…¨å…³é—­æ‰€æœ‰æ•°æ®å¤„ç†ï¼ˆæ¨èï¼‰â­
  ä¿®æ”¹ä¸‹é¢çš„ ENABLE_ALL_PROCESSING = False

æ–¹æ³• 2: ä½¿ç”¨é¢„è®¾é…ç½®
  ä¿®æ”¹æœ€åä¸€è¡Œ: ACTIVE_CONFIG = CONFIG_NO_PROCESSING  # ä¸å¤„ç†
                ACTIVE_CONFIG = CONFIG_SWINIR_DENOISE  # SwinIR å½©è‰²å»å™ª
                ACTIVE_CONFIG = CONFIG_SRGAN_ENHANCE   # SRGAN å›¾åƒå¢å¼º
                ACTIVE_CONFIG = CONFIG_SRGAN_SR        # SRGAN è¶…åˆ†è¾¨ç‡

æ–¹æ³• 3: è‡ªå®šä¹‰å¤„ç†
  ä¿®æ”¹ä¸‹é¢ DATA_PROCESSOR_CONFIG ä¸­çš„å‚æ•°

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""

# ============================================================
# ğŸ›ï¸ æ€»å¼€å…³ - æœ€ç®€å•çš„æ§åˆ¶æ–¹æ³•
# ============================================================

ENABLE_ALL_PROCESSING = True  # â† æ”¹ä¸º False å³å¯å…³é—­æ‰€æœ‰æ•°æ®å¤„ç†ï¼

# ============================================================
# ğŸ“ åŸºç¡€é…ç½® - å›¾åƒå¤„ç†
# ============================================================

DATA_PROCESSOR_CONFIG = {
    # å…¨å±€å¼€å…³
    'enabled': ENABLE_ALL_PROCESSING,
    
    # ========== å¤„ç†æ–¹æ³•é€‰æ‹© ==========
    # æ³¨æ„: åŒæ—¶åªèƒ½å¯ç”¨ä¸€ç§å¤„ç†æ–¹æ³•ï¼
    'processor_type': 'none',  # å¯é€‰: 'none', 'swinir', 'srgan'
    
    # ========== SwinIR é…ç½® ==========
    'swinir': {
        'enabled': False,  # æ˜¯å¦å¯ç”¨ SwinIRï¼ˆéœ€è¦å…ˆä¸‹è½½æ¨¡å‹ï¼‰
        
        # æ¨¡å‹è·¯å¾„ï¼ˆå¿…éœ€ï¼‰
        'model_path': '/home/nju/InterFuser/process_mothod/SwinIR/model_zoo/swinir/005_colorDN_DFWB_s128w8_SwinIR-M_noise15.pth',
        
        # ä»»åŠ¡ç±»å‹ï¼ˆä¸ main_test_swinir.py ä¸€è‡´ï¼‰
        # å¯é€‰: 'classical_sr', 'lightweight_sr', 'real_sr', 
        #       'gray_dn', 'color_dn', 'jpeg_car', 'color_jpeg_car'
        'task': 'color_dn',  # é»˜è®¤: å½©è‰²å›¾åƒå»å™ª
        
        # æ”¾å¤§å€æ•°ï¼ˆç”¨äºè¶…åˆ†è¾¨ç‡ä»»åŠ¡ï¼‰
        'upscale': 1,  # é»˜è®¤: 1 (å»å™ªä»»åŠ¡), SR ä»»åŠ¡ä½¿ç”¨ 2, 4, 8
        
        # å™ªå£°ç­‰çº§ï¼ˆç”¨äºå»å™ªä»»åŠ¡ï¼‰
        'noise': 15,  # é»˜è®¤: 15, å¯é€‰: 15, 25, 50
        
        # JPEG è´¨é‡ï¼ˆç”¨äº JPEG ä¿®å¤ä»»åŠ¡ï¼‰
        'jpeg': 40,  # é»˜è®¤: 40, å¯é€‰: 10, 20, 30, 40
        
        # è®­ç»ƒæ—¶çš„ patch å¤§å°
        'training_patch_size': 128,  # é»˜è®¤: 128
        
        # ç“¦ç‰‡å¤„ç†ï¼ˆç”¨äºå¤§å›¾åƒï¼‰
        'tile': None,  # é»˜è®¤: None (æ•´å›¾å¤„ç†), å¯è®¾ä¸º 512, 1024 ç­‰
        'tile_overlap': 32,  # é»˜è®¤: 32
        
        # è®¾å¤‡
        'device': 'cuda',  # 'cuda' æˆ– 'cpu'
        
        # åŠç²¾åº¦ï¼ˆFP16ï¼‰
        'half_precision': False,  # True å¯åŠ é€Ÿï¼Œä½†å¯èƒ½é™ä½ç²¾åº¦
    },
    
    # ========== SRGAN é…ç½® ==========
    'srgan': {
        'enabled': False,  # æ˜¯å¦å¯ç”¨ SRGAN
        
        # æ¨¡å‹è·¯å¾„ï¼ˆå¿…éœ€ï¼‰
        'model_path': '/home/nju/InterFuser/process_mothod/SRGAN/results/checkpoint_srgan.pth',
        
        # è®¾å¤‡
        'device': 'cuda',  # 'cuda' æˆ– 'cpu'
        
        # åŠç²¾åº¦ï¼ˆFP16ï¼‰
        'half_precision': False,  # True å¯åŠ é€Ÿï¼Œä½†å¯èƒ½é™ä½ç²¾åº¦
        
        # è¾“å‡ºæ”¾å¤§å€æ•°ï¼ˆç›¸å¯¹äºè¾“å…¥ï¼‰
        'output_scale': 2,  # 1: åŸå§‹å¤§å°ï¼ˆå¢å¼ºï¼‰
                            # 2: 2x å¤§å°ï¼ˆä¸åŸå§‹ test.py ä¸€è‡´ï¼‰â­ é»˜è®¤
                            # 4: 4x å¤§å°ï¼ˆå®Œæ•´è¶…åˆ†è¾¨ç‡ï¼‰
        
        # æ¨¡å‹å‚æ•°ï¼ˆé€šå¸¸ä¸éœ€è¦ä¿®æ”¹ï¼‰
        'large_kernel_size': 9,
        'small_kernel_size': 3,
        'n_channels': 64,
        'n_blocks': 16,
        'scaling_factor': 4,  # SRGAN å†…éƒ¨æ”¾å¤§å€æ•°
    },
}


# ============================================================
# ğŸš« æ— å¤„ç†é…ç½® - ç›´æ¥ä¼ é€’åŸå§‹æ•°æ®
# ============================================================

CONFIG_NO_PROCESSING = {
    'enabled': False,
    'swinir': {
        'enabled': False,
    },
}


# ============================================================
# ğŸ¨ é¢„è®¾é…ç½® 1: å½©è‰²å›¾åƒå»å™ªï¼ˆå™ªå£°ç­‰çº§ 15ï¼‰
# ============================================================

CONFIG_COLOR_DENOISE = {
    'enabled': True,
    'swinir': {
        'enabled': True,
        'model_path': '/home/nju/InterFuser/process_mothod/SwinIR/model_zoo/swinir/005_colorDN_DFWB_s128w8_SwinIR-M_noise15.pth',
        'task': 'color_dn',
        'upscale': 1,
        'noise': 15,
        'training_patch_size': 128,
        'device': 'cuda',
        'half_precision': False,
    },
}


# ============================================================
# ğŸ¨ é¢„è®¾é…ç½® 2: å½©è‰²å›¾åƒå»å™ªï¼ˆå™ªå£°ç­‰çº§ 25ï¼‰
# ============================================================

CONFIG_COLOR_DENOISE_25 = {
    'enabled': True,
    'swinir': {
        'enabled': True,
        'model_path': '/home/nju/InterFuser/process_mothod/SwinIR/model_zoo/swinir/005_colorDN_DFWB_s128w8_SwinIR-M_noise25.pth',
        'task': 'color_dn',
        'upscale': 1,
        'noise': 25,
        'training_patch_size': 128,
        'device': 'cuda',
        'half_precision': False,
    },
}


# ============================================================
# ğŸ¨ é¢„è®¾é…ç½® 3: å½©è‰²å›¾åƒå»å™ªï¼ˆå™ªå£°ç­‰çº§ 50ï¼‰
# ============================================================

CONFIG_COLOR_DENOISE_50 = {
    'enabled': True,
    'swinir': {
        'enabled': True,
        'model_path': '/home/nju/InterFuser/process_mothod/SwinIR/model_zoo/swinir/005_colorDN_DFWB_s128w8_SwinIR-M_noise50.pth',
        'task': 'color_dn',
        'upscale': 1,
        'noise': 50,
        'training_patch_size': 128,
        'device': 'cuda',
        'half_precision': False,
    },
}


# ============================================================
# ğŸ” é¢„è®¾é…ç½® 4: 2x è¶…åˆ†è¾¨ç‡
# ============================================================

CONFIG_SR_2X = {
    'enabled': True,
    'swinir': {
        'enabled': True,
        'model_path': '/home/nju/InterFuser/process_mothod/SwinIR/model_zoo/swinir/001_classicalSR_DF2K_s64w8_SwinIR-M_x2.pth',
        'task': 'classical_sr',
        'upscale': 2,
        'training_patch_size': 128,
        'device': 'cuda',
        'half_precision': False,
    },
}


# ============================================================
# ğŸ” é¢„è®¾é…ç½® 5: 4x è¶…åˆ†è¾¨ç‡
# ============================================================

CONFIG_SR_4X = {
    'enabled': True,
    'swinir': {
        'enabled': True,
        'model_path': '/home/nju/InterFuser/process_mothod/SwinIR/model_zoo/swinir/001_classicalSR_DF2K_s64w8_SwinIR-M_x4.pth',
        'task': 'classical_sr',
        'upscale': 4,
        'training_patch_size': 128,
        'device': 'cuda',
        'half_precision': False,
    },
}


# ============================================================
# ğŸ“· é¢„è®¾é…ç½® 6: JPEG å‹ç¼©ä¼ªå½±ä¿®å¤ï¼ˆè´¨é‡ 40ï¼‰
# ============================================================

CONFIG_JPEG_REPAIR = {
    'enabled': True,
    'processor_type': 'swinir',
    'swinir': {
        'enabled': True,
        'model_path': '/home/nju/InterFuser/process_mothod/SwinIR/model_zoo/swinir/006_CAR_DFWB_s126w7_SwinIR-M_jpeg40.pth',
        'task': 'jpeg_car',
        'upscale': 1,
        'jpeg': 40,
        'training_patch_size': 128,
        'device': 'cuda',
        'half_precision': False,
    },
    'srgan': {'enabled': False},
}


# ============================================================
# ğŸ–¼ï¸ é¢„è®¾é…ç½® 7: SRGAN 2x è¶…åˆ†è¾¨ç‡ï¼ˆä¸åŸå§‹ test.py ä¸€è‡´ï¼‰
# ============================================================

CONFIG_SRGAN_2X = {
    'enabled': True,
    'processor_type': 'srgan',
    'swinir': {'enabled': False},
    'srgan': {
        'enabled': True,
        'model_path': '/home/nju/InterFuser/process_mothod/SRGAN/results/checkpoint_srgan.pth',
        'device': 'cuda',
        'half_precision': False,
        'output_scale': 2,  # 2x è¾“å‡ºï¼ˆä¸åŸå§‹ test.py ä¸€è‡´ï¼‰â­
    },
}


# ============================================================
# ğŸ“ˆ é¢„è®¾é…ç½® 8: SRGAN å›¾åƒå¢å¼ºï¼ˆç¼©æ”¾å›åŸå§‹å¤§å°ï¼‰
# ============================================================

CONFIG_SRGAN_ENHANCE = {
    'enabled': True,
    'processor_type': 'srgan',
    'swinir': {'enabled': False},
    'srgan': {
        'enabled': True,
        'model_path': '/home/nju/InterFuser/process_mothod/SRGAN/results/checkpoint_srgan.pth',
        'device': 'cuda',
        'half_precision': False,
        'output_scale': 1,  # 1x è¾“å‡ºï¼ˆå¢å¼ºæ¨¡å¼ï¼‰
    },
}


# ============================================================
# ğŸ” é¢„è®¾é…ç½® 9: SRGAN 4x è¶…åˆ†è¾¨ç‡ï¼ˆå®Œæ•´æ”¾å¤§ï¼‰
# ============================================================

CONFIG_SRGAN_4X = {
    'enabled': True,
    'processor_type': 'srgan',
    'swinir': {'enabled': False},
    'srgan': {
        'enabled': True,
        'model_path': '/home/nju/InterFuser/process_mothod/SRGAN/results/checkpoint_srgan.pth',
        'device': 'cuda',
        'half_precision': False,
        'output_scale': 4,  # 4x è¾“å‡ºï¼ˆå®Œæ•´è¶…åˆ†è¾¨ç‡ï¼‰
    },
}


# ============================================================
# ğŸ¯ æ¿€æ´»é…ç½®é€‰æ‹©
# ============================================================
# 
# å¯é€‰é…ç½®ï¼š
#
# ã€æ— å¤„ç†ã€‘
#   - CONFIG_NO_PROCESSING      : æ— å¤„ç†ï¼ˆåŸå§‹æ•°æ®ï¼‰â­ æ¨èæµ‹è¯•ç”¨
#
# ã€SwinIRã€‘
#   - CONFIG_COLOR_DENOISE      : å½©è‰²å»å™ª (noise=15) âœ… æ¨¡å‹å·²ä¸‹è½½
#   - CONFIG_COLOR_DENOISE_25   : å½©è‰²å»å™ª (noise=25) âš ï¸ éœ€ä¸‹è½½æ¨¡å‹
#   - CONFIG_COLOR_DENOISE_50   : å½©è‰²å»å™ª (noise=50) âš ï¸ éœ€ä¸‹è½½æ¨¡å‹
#   - CONFIG_SR_2X              : 2x è¶…åˆ†è¾¨ç‡ âš ï¸ éœ€ä¸‹è½½æ¨¡å‹
#   - CONFIG_SR_4X              : 4x è¶…åˆ†è¾¨ç‡ âš ï¸ éœ€ä¸‹è½½æ¨¡å‹
#   - CONFIG_JPEG_REPAIR        : JPEG ä¿®å¤ âš ï¸ éœ€ä¸‹è½½æ¨¡å‹
#
# ã€SRGANã€‘
#   - CONFIG_SRGAN_2X           : 2x è¶…åˆ†è¾¨ç‡ï¼ˆä¸åŸå§‹ test.py ä¸€è‡´ï¼‰âœ… æ¨¡å‹å·²å­˜åœ¨ â­ æ¨è
#   - CONFIG_SRGAN_ENHANCE      : å›¾åƒå¢å¼ºï¼ˆ1xï¼Œç¼©æ”¾å›åŸå§‹å¤§å°ï¼‰âœ… æ¨¡å‹å·²å­˜åœ¨
#   - CONFIG_SRGAN_4X           : 4x è¶…åˆ†è¾¨ç‡ï¼ˆå®Œæ•´æ”¾å¤§ï¼‰âœ… æ¨¡å‹å·²å­˜åœ¨
#
# ã€è‡ªå®šä¹‰ã€‘
#   - DATA_PROCESSOR_CONFIG     : è‡ªå®šä¹‰é…ç½®
#
# ä½¿ç”¨æ–¹æ³•ï¼šå–æ¶ˆæ³¨é‡Šä¸‹é¢æŸä¸€è¡Œï¼Œæˆ–ä¿®æ”¹æœ€åçš„ ACTIVE_CONFIG
#
# ============================================================

# æ— å¤„ç†
# ACTIVE_CONFIG = CONFIG_NO_PROCESSING

# SwinIR
# ACTIVE_CONFIG = CONFIG_COLOR_DENOISE     # å½©è‰²å»å™ª (noise=15)
# ACTIVE_CONFIG = CONFIG_COLOR_DENOISE_25  # å½©è‰²å»å™ª (noise=25)
# ACTIVE_CONFIG = CONFIG_COLOR_DENOISE_50  # å½©è‰²å»å™ª (noise=50)
# ACTIVE_CONFIG = CONFIG_SR_2X             # 2x è¶…åˆ†è¾¨ç‡
# ACTIVE_CONFIG = CONFIG_SR_4X             # 4x è¶…åˆ†è¾¨ç‡
# ACTIVE_CONFIG = CONFIG_JPEG_REPAIR       # JPEG ä¿®å¤

# SRGAN
# ACTIVE_CONFIG = CONFIG_SRGAN_2X          # SRGAN 2x è¶…åˆ†è¾¨ç‡ï¼ˆä¸åŸå§‹ test.py ä¸€è‡´ï¼‰â­
# ACTIVE_CONFIG = CONFIG_SRGAN_ENHANCE     # SRGAN å›¾åƒå¢å¼ºï¼ˆ1xï¼‰
# ACTIVE_CONFIG = CONFIG_SRGAN_4X          # SRGAN 4x è¶…åˆ†è¾¨ç‡

# é»˜è®¤ä½¿ç”¨æ— å¤„ç†é…ç½®
ACTIVE_CONFIG = CONFIG_COLOR_DENOISE
